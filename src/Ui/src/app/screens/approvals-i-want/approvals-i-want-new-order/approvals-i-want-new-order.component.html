<app-main-content blockTitle="Yeni Onaylama Emri" subTitle="Lütfen aşağıdaki alanları doldurunuz">
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <div class="box p-5">
      <div class="form-group">
        <label for="title">Başlık</label>
        <input type="text" class="form-control" id="title" name="title" formControlName="title"
               [ngClass]="{ 'is-invalid': submitted && f.title.invalid }">
        <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
          <div *ngIf="f.title.errors.required">Başlık girilmelidir.</div>
        </div>
      </div>
      <div formGroupName="reference">
        <div class="box-title no-border p-0 mt-md-5 mb-md-3 mt-sm-0 mb-sm-0">Referans</div>
        <div class="row">
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="process">İşlem</label>
              <select name="process" id="process" formControlName="process" class="form-select"
                      [ngClass]="{ 'is-invalid': submitted && fr.process.invalid }">
                <option value="">Seçiniz</option>
                <option [value]="i.id" *ngFor="let i of dropdownData?.process">{{i.text}}</option>
              </select>
              <div *ngIf="submitted && fr.process.errors" class="invalid-feedback">
                <div *ngIf="fr.process.errors.required">İşlem bilgisi girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="state">Aşama</label>
              <select name="state" id="state" formControlName="state" class="form-select">
                <option value="">Seçiniz</option>
                <option [value]="i.id" *ngFor="let i of dropdownData?.state">{{i.text}}</option>
              </select>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="processNo">İşlem No</label>
              <input type="text" class="form-control" id="processNo" name="processNo" formControlName="processNo"
                     [ngClass]="{ 'is-invalid': submitted && fr.processNo.invalid }">
              <div *ngIf="submitted && fr.processNo.errors" class="invalid-feedback">
                <div *ngIf="fr.processNo.errors.required">İşlem no bilgisi girilmelidir.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div formGroupName="config">
        <div class="box-title no-border p-0  mt-md-5 mb-md-3 mt-sm-0 mb-sm-0">Ayarlar</div>
        <div class="row">
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="expireInMinutes">Geçerlilik</label>
              <input type="text" class="form-control" id="expireInMinutes" name="expireInMinutes" onlyNumber formControlName="expireInMinutes"
                     [ngClass]="{ 'is-invalid': submitted && fc.expireInMinutes.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.expireInMinutes.errors" class="invalid-feedback">
                <div *ngIf="fc.expireInMinutes.errors.required">Geçerlilik girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="retryFrequence">Hatırlatma Frekansı</label>
              <input type="text" class="form-control" id="retryFrequence" name="retryFrequence" onlyNumber
                     formControlName="retryFrequence"
                     [ngClass]="{ 'is-invalid': submitted && fc.retryFrequence.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.retryFrequence.errors" class="invalid-feedback">
                <div *ngIf="fc.retryFrequence.errors.required">Hatırlatma Frekansı girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="maxRetryCount">Hatırlatma Sayısı</label>
              <input type="text" class="form-control" id="maxRetryCount" name="maxRetryCount" onlyNumber
                     formControlName="maxRetryCount"
                     [ngClass]="{ 'is-invalid': submitted && fc.maxRetryCount.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.maxRetryCount.errors" class="invalid-feedback">
                <div *ngIf="fc.maxRetryCount.errors.required">Hatırlatma Sayısı girilmelidir.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button class="btn btn-primary px-5 mt-5" type="submit">Kaydet
      </button>
    </div>
  </form>
</app-main-content>
