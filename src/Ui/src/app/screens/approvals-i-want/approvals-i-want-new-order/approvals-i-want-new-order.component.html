<app-main-content blockTitle="Yeni Onaylama Emri" subTitle="Lütfen aşağıdaki alanları doldurunuz">
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <div class="box p-5">
      <div class="form-group">
        <label for="title">Başlık</label>
        <ng-select id="title" formControlName="title"
                   [clearable]="false"
                   [ngClass]="{ 'is-invalid': submitted && f.title.invalid }"
                   addTagText="Yeni Ekle"
                   [addTag]="addTag"
        >
          <ng-option value="">Seçiniz</ng-option>
          <ng-option *ngFor="let i of titles" [value]="i.title">{{i.title}}</ng-option>
        </ng-select>
        <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
          <div *ngIf="f.title.errors.required">Başlık girilmelidir.</div>
        </div>
      </div>
      <div formGroupName="reference">
        <div class="box-title no-border p-0 mt-md-5 mb-md-3 mt-sm-0 mb-sm-0">Referans</div>
        <div class="row">
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="process">İşlem</label>
              <ng-select id="process" formControlName="process"
                         [clearable]="false"
                         [ngClass]="{ 'is-invalid': submitted && fr.process.invalid }"
                         addTagText="Yeni Ekle"
                         [addTag]="addTag"
              >
                <ng-option value="">Seçiniz</ng-option>
                <ng-option *ngFor="let i of process" [value]="i.text">{{i.text}}</ng-option>
              </ng-select>
              <div *ngIf="submitted && fr.process.errors" class="invalid-feedback">
                <div *ngIf="fr.process.errors.required">İşlem bilgisi girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="state">Aşama</label>
              <ng-select id="state" formControlName="state"
                         [clearable]="false"
                         addTagText="Yeni Ekle"
                         [addTag]="addTag"
              >
                <ng-option value="">Seçiniz</ng-option>
                <ng-option *ngFor="let i of states" [value]="i.text">{{i.text}}</ng-option>
              </ng-select>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="processNo">İşlem No</label>
              <input type="text" class="form-control" id="processNo" name="processNo" formControlName="processNo">
            </div>
          </div>
        </div>
      </div>
      <div formGroupName="config">
        <div class="box-title no-border p-0  mt-md-5 mb-md-3 mt-sm-0 mb-sm-0">Ayarlar</div>
        <div class="row">
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="expireInMinutes">Geçerlilik</label>
              <input type="text" class="form-control" id="expireInMinutes" name="expireInMinutes" onlyNumber
                     formControlName="expireInMinutes"
                     [ngClass]="{ 'is-invalid': submitted && fc.expireInMinutes.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.expireInMinutes.errors" class="invalid-feedback">
                <div *ngIf="fc.expireInMinutes.errors.required">Geçerlilik girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="retryFrequence">Hatırlatma Frekansı</label>
              <input type="text" class="form-control" id="retryFrequence" name="retryFrequence" onlyNumber
                     formControlName="retryFrequence"
                     [ngClass]="{ 'is-invalid': submitted && fc.retryFrequence.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.retryFrequence.errors" class="invalid-feedback">
                <div *ngIf="fc.retryFrequence.errors.required">Hatırlatma Frekansı girilmelidir.</div>
              </div>
            </div>
          </div>
          <div class="col-md col-sm-12">
            <div class="form-group">
              <label for="maxRetryCount">Hatırlatma Sayısı</label>
              <input type="text" class="form-control" id="maxRetryCount" name="maxRetryCount" onlyNumber
                     formControlName="maxRetryCount"
                     [ngClass]="{ 'is-invalid': submitted && fc.maxRetryCount.invalid }" autocomplete="off">
              <div *ngIf="submitted && fc.maxRetryCount.errors" class="invalid-feedback">
                <div *ngIf="fc.maxRetryCount.errors.required">Hatırlatma Sayısı girilmelidir.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button class="btn btn-primary px-5 mt-5" type="submit">Kaydet
      </button>
    </div>
  </form>
</app-main-content>
